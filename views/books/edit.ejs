<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <title>Edit <%= book.title %>
    </title>
</head>

<body>
    <div class="edit-body">
    <%- include('../partials/_navbar.ejs') %>

        <h1>Edit <%= book.title %> by <%= book.author %>
        </h1>

        <form action="/users/<%= user._id %>/books/<%= book._id %>?_method=PUT" method="POST">

            <label for="title">Title:</label>
            <input type="text" name="title" id="title" value="<%= book.title %>">
            <br><br>

            <label for="author">Author:</label>
            <input type="text" name="author" id="author" value="<%= book.author %>">
            <br><br>

            <label for="notes">Notes:</label>
            <textarea name="notes" id="notes"><%= book.notes %></textarea>
            <br><br>

            <label for="review">Review:</label>
            <textarea name="review" id="review"><%= book.reviews[0] ? book.reviews[0].reviewText : '' %></textarea>
            <br><br>

            <label for="rating">Rating:</label>
            <select id="rating" name="rating">
                <option value="1" <%=book.reviews[0] && book.reviews[0].rating===1 ? "selected" : "" %>>1 - Poor
                </option>
                <option value="2" <%=book.reviews[0] && book.reviews[0].rating===2 ? "selected" : "" %>>2 - Fair
                </option>
                <option value="3" <%=book.reviews[0] && book.reviews[0].rating===3 ? "selected" : "" %>>3 - Good
                </option>
                <option value="4" <%=book.reviews[0] && book.reviews[0].rating===4 ? "selected" : "" %>>4 - Very Good
                </option>
                <option value="5" <%=book.reviews[0] && book.reviews[0].rating===5 ? "selected" : "" %>>5 - Excellent
                </option>
            </select>
            <br><br>

            <button type="submit">Edit Book</button>

        </form>
    </div>
</body>

</html>